<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="master/layout">
<head>
<title>generate reports</title>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<link rel="stylesheet" href = "/assets/css/hello.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
	<body>
	<div layout:fragment="content" class="container">
	<div class="row">
		<div class="col-md-3">
			<div class="col-md-5">
				<h3>Welcome</h3>
			</div>
			<div class="col-md-6">
				<h3 th:text=" ${username}"></h3>
			</div>
		</div>
	</div>
	<div class="row">
	<div class="col-md-10">
	</div>
	<div class="col-md-1">
		<form th:action="@{/logout}" method="post">
			<input style="height:30px;width:80px;" type="submit" value="Sign Out" />
		</form>
	</div>
	<div class="col-md-1">
		<form th:action="@{/hello}" method="post">
			<input style="height:30px;width:80px;" type="submit" value="Profile" />
		</form>
	</div>
	</div>
		<hr/>
		<h3>Generate Product Report</h3>
		<div class="row">
			<div class="col-md-3">
				<h4>Select Supplier</h4>
			</div>
		</div>
		<div class="row">
			<div class="col-md-10">
				<form style="display:inline-block" th:action="@{/search}" th:object="${suppliers}" method="post">
	    			<select th:name="prod" style="height:30px;width:100px;">
						<option th:each="supplier : ${suppliers}" 
				  			th:value="${supplier.getId()}" 
				  			th:text="${supplier.getCompany()}" />
					</select>
					<input style="height:30px;" type="submit" value="Generate User Report" />
				</form>
			</div>	
		</div>
		<hr/>
		<h3>Reports</h3>
		<div class="row">
			<div class="col-md-10">
			</div>
			<div class="col-md-1">
					<div class="col-md-4">
					</div>
					<div class="col-md-6">
						<form th:action="@{/hello}" method="post">
							<input style="height:30px;width:80px"; type="submit" value="Refresh" />
						</form>
					</div>
			</div>
		</div>
		<div class="outer">
			<div class="innera">
			    <table summary="This table list down the reports generated by the user.">
			      <caption>USER REPORTS</caption>
			      <thead>
			        <tr>
			        <th>Report Name</th>
					<th scope="col">Supplier Company</th>
					<th scope="col">Created On</th>
					<th scope="col">Last Modified</th>
					<th scope="col">Attachment</th>
					<th scope="col">delete</th> 
			        </tr>
			      </thead>
			      <tfoot>
			        <tr>
			          <td colspan="6"></td>
			        </tr>
			      </tfoot>
			      <tbody>
			      <tr th:each="report : ${reports}">
					<td th:text="${report.reportName}">Unknown</td>
					<td th:text="${report.supplierName}">Unknown</td>
					<td th:text="${report.created_on}">Unknown</td>
					<td th:text="${report.modified_on}">Unknown</td>
					<td><a th:href="@{/download?report={q}(q=${report.id})}"><img class="icon" src="/assets/img/download.png" /></a></td>
					<td><a th:href="@{/delete?report={q}(q=${report.id})}"><img class="icon" src="/assets/img/delete.ico" /></a></td>
				  </tr>
			     </tbody>
			</table>
			</div>
		</div>
		<hr/>
		
	</div>
</body>
</html>